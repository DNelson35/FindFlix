# Phase Two Project / FindFlix

## sources
FindFlix uses the [TMDB API](https://developers.themoviedb.org/3/getting-started/introduction). TMDB is a massive library of movies and movie Data. In this project, all movie images, descriptions, and titles are sourced from TMDB.

## About

FindFlix's purpose is to provide users with a place to look for new and trending movies outside of news, social media, and promotional ads. FindFlix provides a unique way to find movies and build movies collection built by other users. This aims to provide users with Real suggestions from real people and their experience with the movie. FindFlix is a firm believer that every movie deserves a chance at fair marketing and many great movies pass unnoticed due to the hype of other popular movie releases. With that in mind, FindFlix wants users to create collections of movies that can be viewed by anyone. Each collection has an author and a label, feel free to name either as you like but it is encouraged that the label name is short, descriptive, and easy to understand for other users. As an example, a collection might look something like this, author: John Doe, Label: Will Smith Action.


## User experience

When FindFlix loads the first thing a user will see is the homepage. The homePage contains a navigation menu at the top of the page, and the main body contains different categories of movies to look through. In the navigation menu, a user will see starting from left to right, The website name, a home link, create list link, an update list link, and an about link. On the right side of the navigation menu, there is a dropdown menu. Each of the links will take the user to its corresponding page and the dropdown menu will let the user select the collection they would like to view or modify. when a collection is selected another category will be displayed on the homepage containing the movies in that collection. On the homepage, if the user has a collection selected they can scroll through the categories and add them to the collection. when a user clicks on a movie card a modal will be shown with a description of the movie and two buttons. if the user clicks on a movie outside the collection category the buttons will be an add and close button in the modal. When the user clicks on the add button the movie will be added to the collection and displayed in the collection category. if the user clicks on a movie card inside the collection category the add button will now be a remove button. when the user clicks on the remove button the movie card will be removed from the collection and no longer displayed in the collection category. at any point, if the user selects a different collection from the dropdown the collection category will be updated to display the movies in that collection and all of the page interactions described before will apply to the newly selected collection.

The create list page contains a form for a user to create a new collection. The form requires both an author and a label to be provided. Once the user creates a new collection the collection can be selected by clicking on the dropdown menu. when navigating back to the home page with the new collection selected the collection will not be displayed because it is currently empty. When a user adds to the collection the new collection will then be displayed. The collection will not be displayed if the user has no movies in the collection. 

The update list page contains a form for a user to edit the author or label of a collection. A collection can also be deleted from this page. When a user navigates to the update page if the user has already selected a collection the update form will automatically contain the author and label of the collection in its input fields. if the user has not selected a collection the update form will be blank. To update a collection a collection must be selected from the dropdown menu. when the user changes either or both the label and author of the collection the update will be reflected immediately inside the dropdown menu. If the user deletes the collection and all the movies contained in the collection will be removed from the dropdown menu and home page.

For a more visual walk-through of Find-Flix click [here]()


## How it Works

FindFlix uses React to build out the front-end features, Tailwind for styling, and uses Json-Server to act as the backend. The Front end uses data from the TMDB API to display information on the screen. While Json-Server holds a collection of WatchList and Movies. Json-Server is used in this project to keep track of any created list and what movies are attached to each list. that Data is then used to display information about each collection on the front end.

On initial load, multiple fetch requests are sent to different endpoints of the TMDB API when this happens loading is set to true. When the Promise is resolved the data is then used to set the state for each fetch request. This all happens inside a custom hook called useFetchData. UseFetchData is used on the home page the state is then destructured out of the custom hook and passed down to different Category components as props. The category components then map over the data held in the state to create a Card component for each movie. The Card then takes the movie as a prop and uses the movie data to display information on the screen. the Modal is also created inside the Category components this will display conditionally based on whether a card is clicked if the card is clicked it sets a piece of state to true and passes the movie it contains backup through the use of a callback. that movie is then passed into the modal. The modal then displays the movie, description and buttons based on the title of the collection if the title is collection then the modal displays the remove button if any other title is passed then it displays the add button. 

Inside the Modal component when the add button is clicked a POST request is sent to the Json-Server LocalHost:3000/movies endpoint and sets state with the current movie selected and adds it to a copy of the movies fetched inside of context when the page was loaded. the movies state is then used to pass the movies to the user's collection category. The remove button when a movie from the collection is clicked will send a Delete request to the same endpoint with the movie's id placed at the end localhost:3000/movies/${movie.id} this response is then used to filter through the movies set in state and exclude any movies that have the same id. this updates the collection to no longer contain the movie. and the movie will no longer be displayed.

The dropdown in the Navbar component takes in the watchlist fetched from context and maps over the watchlist to create a new option for the dropdown. when an option from the dropdown is selected its id will be passed into a function passed down from the context called handleSelectOption this will then set a piece of state inside of the context called currList. The current list is then used inside of a useEffect that is set up to run anytime currList changes. the useEffect will check if the currList is a truthy value if the value is truthy a fetch is made for any movie that has a watchlis_ID equal to the currList id. if it is not truthy the useEffect will return and not call the fetch. this fetch will then setMovies to any movies returned when the promise is resolved. which will then display the movies in the collection on the homepage.


for a more in-depth look at how each of the components work click [here](ComponentNotes.md)



